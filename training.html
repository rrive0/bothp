<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FIVEM SMART CHECK</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
}

.container{
  width:100%;
  max-width:700px;
  padding:40px;
  border-radius:25px;
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,0.08);
  box-shadow:0 0 60px rgba(0,180,255,0.4);
  animation:fadeIn 0.6s ease;
}

h1{
  text-align:center;
  font-size:2.2rem;
  margin-bottom:30px;
  background:linear-gradient(90deg,#00f2ff,#00b4ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

label{
  font-weight:600;
  font-size:0.95rem;
  opacity:0.9;
}

select,input{
  width:100%;
  padding:14px;
  margin-top:8px;
  margin-bottom:20px;
  border:none;
  border-radius:12px;
  background:rgba(255,255,255,0.15);
  color:#fff;
  font-size:1rem;
  outline:none;
  transition:0.3s;
}

select:focus,input:focus{
  background:rgba(255,255,255,0.25);
  box-shadow:0 0 15px #00b4ff;
}

button{
  width:100%;
  padding:15px;
  border:none;
  border-radius:30px;
  font-size:1.1rem;
  font-weight:700;
  cursor:pointer;
  background:linear-gradient(90deg,#00f2ff,#00b4ff);
  color:#000;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
  box-shadow:0 0 25px #00f2ff;
}

button:disabled{
  opacity:0.6;
  cursor:not-allowed;
}

#result{
  margin-top:30px;
  padding:20px;
  border-radius:15px;
  background:rgba(0,0,0,0.4);
  min-height:60px;
  animation:fadeIn 0.4s ease;
}

.player-card{
  animation:slideUp 0.4s ease;
}

.player-card h3{
  margin-bottom:10px;
  color:#00f2ff;
}

.loading{
  text-align:center;
  animation:pulse 1s infinite;
}

.error{
  color:#ff6b6b;
  font-weight:600;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

@keyframes slideUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

@keyframes pulse{
  0%{opacity:0.5}
  50%{opacity:1}
  100%{opacity:0.5}
}

@media(max-width:600px){
  .container{padding:25px}
  h1{font-size:1.6rem}
}
</style>
</head>
<body>

<div class="container">
  <h1>FIVEM SMART CHECK</h1>

  <label>เลือกเซิร์ฟเวอร์</label>
  <select id="serverSelect">
    <option value="">-- เลือกเซิร์ฟเวอร์ --</option>
      <option value="103.91.190.236">Starcommunity 1</option>
      <option value="103.91.190.107">Starcommunity 2</option>
      <option value="103.208.27.135">Starcommunity 3</option>
      <option value="45.154.27.198">Starcommunity 4</option>
      <option value="43.229.151.105">Starcommunity 5</option>
      <option value="146.19.69.171">WHAT TRAINING 1</option>
      <option value="146.19.69.172">WHAT TRAINING 2</option>
      <option value="103.91.190.242">Glorious Community</option>
      <option value="31.56.79.17">LAST STUDIO</option>
  </select>

  <label>หรือกรอก IP เอง</label>
  <input type="text" id="manualIp" placeholder="เช่น 123.45.67.89">

  <label>ค้นหา (ID / ชื่อ / Steam / Discord)</label>
  <input type="text" id="searchInput" placeholder="พิมพ์ข้อมูลที่ต้องการค้นหา">

  <button id="searchBtn" onclick="checkPlayer()">ค้นหา</button>

  <div id="result"></div>
</div>

<script>
async function checkPlayer(){

  const serverSelect=document.getElementById('serverSelect').value.trim();
  const manualIp=document.getElementById('manualIp').value.trim();
  const search=document.getElementById('searchInput').value.trim();
  const result=document.getElementById('result');
  const btn=document.getElementById('searchBtn');

  const server=manualIp||serverSelect;

  if(!server||!search){
    result.innerHTML=`<div class="error">กรุณาเลือก Server และกรอกข้อมูลค้นหา</div>`;
    return;
  }

  btn.disabled=true;
  result.innerHTML=`<div class="loading">กำลังค้นหา...</div>`;

  let query=`?server=${encodeURIComponent(server)}`;

  if(/^\d+$/.test(search) && search.length<=3){
    query+=`&player=${search}`;
  }else if(search.startsWith("110000")){
    query+=`&steam=${search}`;
  }else if(/^\d{17,}$/.test(search)){
    query+=`&discord=${search}`;
  }else{
    query+=`&name=${encodeURIComponent(search)}`;
  }

  try{
    const res=await fetch(`https://bothp.onrender.com/check-player${query}`);
    const data=await res.json();

    if(!data||!data.name){
      result.innerHTML=`<div class="error">❌ ไม่พบข้อมูล</div>`;
      btn.disabled=false;
      return;
    }

    result.innerHTML=`
      <div class="player-card">
        <h3>${data.name}</h3>
        <p><b>Ping:</b> ${data.ping ?? '-'} ms</p>
        <p><b>Steam:</b> ${data.steamHex ?? '-'}</p>
        <p><b>Discord:</b> ${data.discord ?? '-'}</p>
        <p><b>License:</b> ${data.license ?? '-'}</p>
      </div>
    `;

  }catch(err){
    result.innerHTML=`<div class="error">❌ ไม่สามารถเชื่อมต่อ API ได้</div>`;
  }

  btn.disabled=false;
}
</script>

</body>
</html>
