<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FIVEM CHECK ROLEPLAY</title>
<link rel="icon" href="FiveM.png" type="image/png" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Poppins',sans-serif;
  min-height:100vh;
  background: radial-gradient(circle at 20% 30%,#1a2a4f,#0a0f1f 70%);
  color:#fff;
  display:flex;
  flex-direction:column;
}

/* ===== HEADER ===== */
header{
  backdrop-filter: blur(20px);
  background: rgba(20,30,60,.6);
  border-bottom:1px solid rgba(0,255,255,.2);
  padding:18px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.logo{
  font-size:1.8rem;
  font-weight:800;
  background:linear-gradient(90deg,#00f2ff,#00ffae);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  letter-spacing:2px;
}
nav{display:flex;gap:20px}
nav a{
  padding:8px 16px;
  border-radius:30px;
  font-weight:600;
  transition:.3s;
}
nav a:hover{
  background:linear-gradient(90deg,#00f2ff,#00ffae);
  color:#000;
  box-shadow:0 0 15px #00ffee;
}

/* ===== MAIN CARD ===== */
main{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:40px 20px;
}
.card{
  width:100%;
  max-width:750px;
  background:rgba(20,25,45,.75);
  backdrop-filter:blur(25px);
  border-radius:25px;
  padding:40px;
  box-shadow:0 0 40px rgba(0,255,255,.15);
  border:1px solid rgba(0,255,255,.15);
  animation:fadeIn 1s ease;
}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:translateY(0)}
}
.card h1{
  text-align:center;
  font-size:2.2rem;
  margin-bottom:35px;
  background:linear-gradient(90deg,#00f2ff,#00ffae);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* ===== FORM ===== */
form{
  display:flex;
  flex-direction:column;
  gap:22px;
}
label{
  font-weight:600;
  color:#a8eaff;
}
select,input{
  padding:14px 18px;
  border-radius:14px;
  border:1px solid rgba(0,255,255,.2);
  background:rgba(10,15,35,.9);
  color:#fff;
  font-size:1rem;
  transition:.3s;
}
select:focus,input:focus{
  outline:none;
  border-color:#00ffee;
  box-shadow:0 0 12px #00ffee;
}
button{
  margin-top:10px;
  padding:16px;
  border:none;
  border-radius:50px;
  font-weight:700;
  font-size:1.1rem;
  cursor:pointer;
  background:linear-gradient(90deg,#00f2ff,#00ffae);
  color:#000;
  transition:.3s;
}
button:hover{
  transform:scale(1.05);
  box-shadow:0 0 25px #00ffee;
}

/* ===== RESULT ===== */
#result{
  margin-top:35px;
  padding:25px;
  border-radius:18px;
  background:rgba(0,0,0,.5);
  border:1px solid rgba(0,255,255,.2);
  font-size:1rem;
  line-height:1.7;
  animation:fadeIn .6s ease;
}
#result h3{
  margin-bottom:15px;
  color:#00ffee;
}
#result a{
  color:#00ffae;
  font-weight:600;
}

/* ===== FOOTER ===== */
footer{
  text-align:center;
  padding:18px;
  background:rgba(10,15,35,.8);
  border-top:1px solid rgba(0,255,255,.15);
  font-size:.85rem;
  color:#aaa;
}

/* ===== RESPONSIVE ===== */
@media(max-width:500px){
  .card{padding:25px}
  .card h1{font-size:1.6rem}
}
</style>
</head>

<body>

<header>
  <div class="logo">FIVEM CHECK</div>
  <nav>
    <a href="menu.html">เมนูหลัก</a>
    <a href="roplay.html">FIVEM ROPLAY</a>
    <a href="https://www.facebook.com/lakksjslal.ksksiksks" target="_blank">รายงาน</a>
    <a href="index.html">ออกจากระบบ</a>
  </nav>
</header>

<main>
  <div class="card">
    <h1>CHECK ROLEPLAY FIVEM</h1>

    <form id="checkForm" onsubmit="event.preventDefault(); checkPlayer();">
      <label>เลือกเซิร์ฟเวอร์</label>
      <select id="serverSelect">
        <option value="">- เลือกเซิร์ฟเวอร์ -</option>
      <option value="103.91.190.236">Starcommunity 1</option>
      <option value="103.91.190.107">Starcommunity 2</option>
      <option value="103.208.27.135">Starcommunity 3</option>
      <option value="45.154.27.198">Starcommunity 4</option>
      <option value="43.229.151.105">Starcommunity 5</option>
      <option value="146.19.69.171">WHAT TRAINING 1</option>
      <option value="146.19.69.172">WHAT TRAINING 2</option>
      <option value="103.91.190.242">Glorious Community</option>
      <option value="31.56.79.17">LAST STUDIO</option>
      </select>

      <label>กรอก IP เซิร์ฟเวอร์เอง</label>
      <input type="text" id="manualIp" placeholder="เช่น 123.45.67.89 หรือ play.example.com" />

      <label>กรอก Player ID</label>
      <input type="text" id="playerIdInput" placeholder="เช่น 1, 2, 5" required />

      <button type="submit">ค้นหาข้อมูล</button>
    </form>

    <section id="result"></section>
  </div>
</main>

<footer>
  © 2025 FIVEM CHECK - DEV JUTI STORY
</footer>

<script>
  async function checkPlayer() {
    const serverSelect = document.getElementById('serverSelect').value.trim();
    const manualIp = document.getElementById('manualIp').value.trim();
    const playerId = document.getElementById('playerIdInput').value.trim();
    const resultDiv = document.getElementById('result');

    const serverIp = manualIp || serverSelect;

    if (!serverIp || !playerId) {
      resultDiv.innerHTML = `<p style="color:#ff5555; font-weight:700;">กรุณาเลือกหรือกรอก IP เซิร์ฟเวอร์ และกรอก Player ID ให้ถูกต้อง</p>`;
      resultDiv.focus();
      return;
    }

    resultDiv.innerHTML = `<p>กำลังค้นหาข้อมูลผู้เล่น ID <strong>${playerId}</strong> จากเซิร์ฟเวอร์ <strong>${serverIp}</strong>...</p>`;

    try {
      const response = await fetch(`https://bothp.onrender.com/check-player?server=${serverIp}&player=${playerId}`);
      const data = await response.json();

      if (data && data.name) {
        const steamProfile = data.steamProfile && data.steamProfile !== "ไม่พบข้อมูล"
          ? `<a href="${data.steamProfile}" target="_blank" rel="noopener noreferrer">${data.steamProfile}</a>`
          : 'ไม่พบข้อมูล';

        resultDiv.innerHTML = `
         ข้อมูลจากเซิฟเวอร์ <strong>${serverIp}</strong>
          <h3>ข้อมูลผู้เล่น</h3>
          <p><strong>ชื่อ:</strong> ${data.name}</p>
          <p><strong>Ping:</strong> ${data.ping ?? 'ไม่พบข้อมูล'} ms</p>
          <p><strong>Steam Hex:</strong> ${data.steamHex ?? 'ไม่พบข้อมูล'}</p>
          <p><strong>Steam Profile:</strong> ${steamProfile}</p>
          <p><strong>Discord:</strong> ${data.discord ?? 'ไม่พบข้อมูล'}</p>
        `;
      } else {
        resultDiv.innerHTML = `<p style="color:#ff5555; font-weight:700;">❌ ไม่พบข้อมูลผู้เล่นในเซิร์ฟเวอร์นี้</p>`;
      }
      resultDiv.focus();
    } catch (error) {
      resultDiv.innerHTML = `<p style="color:#ff5555; font-weight:700;">❌ เกิดข้อผิดพลาด: ไม่สามารถเชื่อมต่อ API ได้ (${error.message})</p>`;
      resultDiv.focus();
    }
  }
</script>

</body>
</html>
